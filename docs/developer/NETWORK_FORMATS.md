# Network formats

All network encoding is big-endian.

## Consumer poll response

```
+------------------------------------------------------------------------------+
| items length (uint16)                                                        |
+------------------------------------------------------------------------------+
| response items                                                               |
| +--------------------------------------------------------------------------+ |
| | item                                                                     | |
| | +----------------------+---------------------+------------------------+  | |
| | | token (int64)        | range index (uint8) | gen version (uint32)   |  | |
| | +----------------------+---------------------+------------------------+  | |
| | | topic length (uint8) | topic name (bytes)  | payload length (int32) |  | |
| | +----------------------+---------------------+------------------------+  | |
| | | compressed payload (zstd crc) (bytes)                               |  | |
| | +---------------------------------------------------------------------+  | |
| +--------------------------------------------------------------------------+ |
|                                                                              |
| +--------------------------------------------------------------------------+ |
| | item                                                                     | |
| +--------------------------------------------------------------------------+ |
|                                                                              |
| .                                                                            |
| .                                                                            |
| .                                                                            |
|                                                                              |
+------------------------------------------------------------------------------+
```
